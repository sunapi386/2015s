
====== Question 2b prior: Jon Snow's Credit Company
		Inference Step 0 (Unmodified Factors)
#<Factor:0x007f837c8558e8 @names=["Fraud", "Trav"], @table={[1, 1]=>0.01, [1, 0]=>0.004, [0, 1]=>0.99, [0, 0]=>0.996}>
#<Factor:0x007f837c855438 @names=["Trav"], @table={[1]=>0.05, [0]=>0.95}>
#<Factor:0x007f837c855258 @names=["FP", "Fraud", "Trav"], @table={[1, 1, 1]=>0.9, [1, 1, 0]=>0.1, [1, 0, 1]=>0.9, [1, 0, 0]=>0.01, [0, 1, 1]=>0.09999999999999998, [0, 1, 0]=>0.9, [0, 0, 1]=>0.09999999999999998, [0, 0, 0]=>0.99}>
#<Factor:0x007f837c8549c0 @names=["IP", "OC", "Fraud"], @table={[1, 1, 1]=>0.02, [1, 1, 0]=>0.01, [1, 0, 1]=>0.011, [1, 0, 0]=>0.001, [0, 1, 1]=>0.98, [0, 1, 0]=>0.99, [0, 0, 1]=>0.989, [0, 0, 0]=>0.999}>
#<Factor:0x007f837c854178 @names=["CRP", "OC"], @table={[1, 1]=>0.1, [1, 0]=>0.001, [0, 1]=>0.9, [0, 0]=>0.999}>
#<Factor:0x007f837c85fc30 @names=["OC"], @table={[1]=>0.75, [0]=>0.25}>
		Inference Step 1 (Factors After Restriction)
#<Factor:0x007f837c8558e8 @names=["Fraud", "Trav"], @table={[1, 1]=>0.01, [1, 0]=>0.004, [0, 1]=>0.99, [0, 0]=>0.996}>
#<Factor:0x007f837c855438 @names=["Trav"], @table={[1]=>0.05, [0]=>0.95}>
#<Factor:0x007f837c855258 @names=["FP", "Fraud", "Trav"], @table={[1, 1, 1]=>0.9, [1, 1, 0]=>0.1, [1, 0, 1]=>0.9, [1, 0, 0]=>0.01, [0, 1, 1]=>0.09999999999999998, [0, 1, 0]=>0.9, [0, 0, 1]=>0.09999999999999998, [0, 0, 0]=>0.99}>
#<Factor:0x007f837c8549c0 @names=["IP", "OC", "Fraud"], @table={[1, 1, 1]=>0.02, [1, 1, 0]=>0.01, [1, 0, 1]=>0.011, [1, 0, 0]=>0.001, [0, 1, 1]=>0.98, [0, 1, 0]=>0.99, [0, 0, 1]=>0.989, [0, 0, 0]=>0.999}>
#<Factor:0x007f837c854178 @names=["CRP", "OC"], @table={[1, 1]=>0.1, [1, 0]=>0.001, [0, 1]=>0.9, [0, 0]=>0.999}>
#<Factor:0x007f837c85fc30 @names=["OC"], @table={[1]=>0.75, [0]=>0.25}>
		Inference Step 2 (Multiply)
Product Factor #<Factor:0x007f837c867340 @names=["Fraud", "Trav"], @table={[1, 1]=>0.01, [1, 0]=>0.004, [0, 1]=>0.99, [0, 0]=>0.996}>
Product Factor #<Factor:0x007f837c866030 @names=["Fraud", "Trav"], @table={[1, 1]=>0.0005, [1, 0]=>0.0038, [0, 1]=>0.0495, [0, 0]=>0.9461999999999999}>
Product Factor #<Factor:0x007f837c86fa18 @names=["Fraud", "Trav", "FP"], @table={[1, 1, 1]=>0.00045000000000000004, [1, 1, 0]=>4.999999999999999e-05, [1, 0, 1]=>0.00038, [1, 0, 0]=>0.00342, [0, 1, 1]=>0.044550000000000006, [0, 1, 0]=>0.0049499999999999995, [0, 0, 1]=>0.009462, [0, 0, 0]=>0.936738}>
Product Factor #<Factor:0x007f837c877c18 @names=["Fraud", "Trav", "FP", "IP", "OC"], @table={[1, 1, 1, 1, 1]=>9.0e-06, [1, 1, 1, 1, 0]=>4.95e-06, [1, 1, 1, 0, 1]=>0.00044100000000000004, [1, 1, 1, 0, 0]=>0.00044505000000000006, [1, 1, 0, 1, 1]=>9.999999999999997e-07, [1, 1, 0, 1, 0]=>5.499999999999998e-07, [1, 1, 0, 0, 1]=>4.8999999999999985e-05, [1, 1, 0, 0, 0]=>4.944999999999999e-05, [1, 0, 1, 1, 1]=>7.600000000000001e-06, [1, 0, 1, 1, 0]=>4.18e-06, [1, 0, 1, 0, 1]=>0.0003724, [1, 0, 1, 0, 0]=>0.00037582, [1, 0, 0, 1, 1]=>6.84e-05, [1, 0, 0, 1, 0]=>3.7619999999999996e-05, [1, 0, 0, 0, 1]=>0.0033515999999999997, [1, 0, 0, 0, 0]=>0.00338238, [0, 1, 1, 1, 1]=>0.0004455000000000001, [0, 1, 1, 1, 0]=>4.4550000000000005e-05, [0, 1, 1, 0, 1]=>0.044104500000000005, [0, 1, 1, 0, 0]=>0.04450545000000001, [0, 1, 0, 1, 1]=>4.95e-05, [0, 1, 0, 1, 0]=>4.95e-06, [0, 1, 0, 0, 1]=>0.0049004999999999995, [0, 1, 0, 0, 0]=>0.0049450499999999994, [0, 0, 1, 1, 1]=>9.462e-05, [0, 0, 1, 1, 0]=>9.462e-06, [0, 0, 1, 0, 1]=>0.00936738, [0, 0, 1, 0, 0]=>0.009452538, [0, 0, 0, 1, 1]=>0.00936738, [0, 0, 0, 1, 0]=>0.000936738, [0, 0, 0, 0, 1]=>0.9273706199999999, [0, 0, 0, 0, 0]=>0.9358012619999999}>
Product Factor #<Factor:0x007f837c884918 @names=["Fraud", "Trav", "FP", "IP", "OC", "CRP"], @table={[1, 1, 1, 1, 1, 1]=>9.000000000000001e-07, [1, 1, 1, 1, 1, 0]=>8.1e-06, [1, 1, 1, 1, 0, 1]=>4.9500000000000005e-09, [1, 1, 1, 1, 0, 0]=>4.94505e-06, [1, 1, 1, 0, 1, 1]=>4.410000000000001e-05, [1, 1, 1, 0, 1, 0]=>0.00039690000000000005, [1, 1, 1, 0, 0, 1]=>4.450500000000001e-07, [1, 1, 1, 0, 0, 0]=>0.0004446049500000001, [1, 1, 0, 1, 1, 1]=>9.999999999999998e-08, [1, 1, 0, 1, 1, 0]=>8.999999999999997e-07, [1, 1, 0, 1, 0, 1]=>5.499999999999999e-10, [1, 1, 0, 1, 0, 0]=>5.494499999999998e-07, [1, 1, 0, 0, 1, 1]=>4.899999999999999e-06, [1, 1, 0, 0, 1, 0]=>4.409999999999999e-05, [1, 1, 0, 0, 0, 1]=>4.944999999999999e-08, [1, 1, 0, 0, 0, 0]=>4.9400549999999986e-05, [1, 0, 1, 1, 1, 1]=>7.600000000000001e-07, [1, 0, 1, 1, 1, 0]=>6.840000000000001e-06, [1, 0, 1, 1, 0, 1]=>4.18e-09, [1, 0, 1, 1, 0, 0]=>4.17582e-06, [1, 0, 1, 0, 1, 1]=>3.724e-05, [1, 0, 1, 0, 1, 0]=>0.00033516, [1, 0, 1, 0, 0, 1]=>3.7582000000000004e-07, [1, 0, 1, 0, 0, 0]=>0.00037544418, [1, 0, 0, 1, 1, 1]=>6.84e-06, [1, 0, 0, 1, 1, 0]=>6.156e-05, [1, 0, 0, 1, 0, 1]=>3.7619999999999995e-08, [1, 0, 0, 1, 0, 0]=>3.758237999999999e-05, [1, 0, 0, 0, 1, 1]=>0.00033516, [1, 0, 0, 0, 1, 0]=>0.00301644, [1, 0, 0, 0, 0, 1]=>3.38238e-06, [1, 0, 0, 0, 0, 0]=>0.00337899762, [0, 1, 1, 1, 1, 1]=>4.455000000000001e-05, [0, 1, 1, 1, 1, 0]=>0.00040095000000000007, [0, 1, 1, 1, 0, 1]=>4.4550000000000005e-08, [0, 1, 1, 1, 0, 0]=>4.4505450000000006e-05, [0, 1, 1, 0, 1, 1]=>0.004410450000000001, [0, 1, 1, 0, 1, 0]=>0.03969405000000001, [0, 1, 1, 0, 0, 1]=>4.450545000000001e-05, [0, 1, 1, 0, 0, 0]=>0.044460944550000006, [0, 1, 0, 1, 1, 1]=>4.95e-06, [0, 1, 0, 1, 1, 0]=>4.455e-05, [0, 1, 0, 1, 0, 1]=>4.9500000000000005e-09, [0, 1, 0, 1, 0, 0]=>4.94505e-06, [0, 1, 0, 0, 1, 1]=>0.00049005, [0, 1, 0, 0, 1, 0]=>0.00441045, [0, 1, 0, 0, 0, 1]=>4.945049999999999e-06, [0, 1, 0, 0, 0, 0]=>0.0049401049499999995, [0, 0, 1, 1, 1, 1]=>9.462e-06, [0, 0, 1, 1, 1, 0]=>8.5158e-05, [0, 0, 1, 1, 0, 1]=>9.462e-09, [0, 0, 1, 1, 0, 0]=>9.452538e-06, [0, 0, 1, 0, 1, 1]=>0.000936738, [0, 0, 1, 0, 1, 0]=>0.008430642, [0, 0, 1, 0, 0, 1]=>9.452538e-06, [0, 0, 1, 0, 0, 0]=>0.009443085462, [0, 0, 0, 1, 1, 1]=>0.000936738, [0, 0, 0, 1, 1, 0]=>0.008430642, [0, 0, 0, 1, 0, 1]=>9.367380000000001e-07, [0, 0, 0, 1, 0, 0]=>0.000935801262, [0, 0, 0, 0, 1, 1]=>0.092737062, [0, 0, 0, 0, 1, 0]=>0.8346335579999999, [0, 0, 0, 0, 0, 1]=>0.0009358012619999999, [0, 0, 0, 0, 0, 0]=>0.9348654607379999}>
Product Factor #<Factor:0x007f837c8de878 @names=["Fraud", "Trav", "FP", "IP", "OC", "CRP"], @table={[1, 1, 1, 1, 1, 1]=>6.750000000000001e-07, [1, 1, 1, 1, 1, 0]=>6.075e-06, [1, 1, 1, 1, 0, 1]=>1.2375000000000001e-09, [1, 1, 1, 1, 0, 0]=>1.2362625e-06, [1, 1, 1, 0, 1, 1]=>3.3075000000000004e-05, [1, 1, 1, 0, 1, 0]=>0.00029767500000000007, [1, 1, 1, 0, 0, 1]=>1.1126250000000002e-07, [1, 1, 1, 0, 0, 0]=>0.00011115123750000002, [1, 1, 0, 1, 1, 1]=>7.499999999999998e-08, [1, 1, 0, 1, 1, 0]=>6.749999999999998e-07, [1, 1, 0, 1, 0, 1]=>1.3749999999999996e-10, [1, 1, 0, 1, 0, 0]=>1.3736249999999994e-07, [1, 1, 0, 0, 1, 1]=>3.674999999999999e-06, [1, 1, 0, 0, 1, 0]=>3.307499999999999e-05, [1, 1, 0, 0, 0, 1]=>1.2362499999999997e-08, [1, 1, 0, 0, 0, 0]=>1.2350137499999996e-05, [1, 0, 1, 1, 1, 1]=>5.7e-07, [1, 0, 1, 1, 1, 0]=>5.13e-06, [1, 0, 1, 1, 0, 1]=>1.045e-09, [1, 0, 1, 1, 0, 0]=>1.043955e-06, [1, 0, 1, 0, 1, 1]=>2.7930000000000002e-05, [1, 0, 1, 0, 1, 0]=>0.00025137, [1, 0, 1, 0, 0, 1]=>9.395500000000001e-08, [1, 0, 1, 0, 0, 0]=>9.3861045e-05, [1, 0, 0, 1, 1, 1]=>5.13e-06, [1, 0, 0, 1, 1, 0]=>4.617e-05, [1, 0, 0, 1, 0, 1]=>9.404999999999999e-09, [1, 0, 0, 1, 0, 0]=>9.395594999999998e-06, [1, 0, 0, 0, 1, 1]=>0.00025137, [1, 0, 0, 0, 1, 0]=>0.00226233, [1, 0, 0, 0, 0, 1]=>8.45595e-07, [1, 0, 0, 0, 0, 0]=>0.000844749405, [0, 1, 1, 1, 1, 1]=>3.3412500000000006e-05, [0, 1, 1, 1, 1, 0]=>0.0003007125, [0, 1, 1, 1, 0, 1]=>1.1137500000000001e-08, [0, 1, 1, 1, 0, 0]=>1.1126362500000002e-05, [0, 1, 1, 0, 1, 1]=>0.0033078375000000007, [0, 1, 1, 0, 1, 0]=>0.029770537500000006, [0, 1, 1, 0, 0, 1]=>1.1126362500000003e-05, [0, 1, 1, 0, 0, 0]=>0.011115236137500002, [0, 1, 0, 1, 1, 1]=>3.7125e-06, [0, 1, 0, 1, 1, 0]=>3.34125e-05, [0, 1, 0, 1, 0, 1]=>1.2375000000000001e-09, [0, 1, 0, 1, 0, 0]=>1.2362625e-06, [0, 1, 0, 0, 1, 1]=>0.0003675375, [0, 1, 0, 0, 1, 0]=>0.0033078375, [0, 1, 0, 0, 0, 1]=>1.2362624999999998e-06, [0, 1, 0, 0, 0, 0]=>0.0012350262374999999, [0, 0, 1, 1, 1, 1]=>7.096500000000001e-06, [0, 0, 1, 1, 1, 0]=>6.38685e-05, [0, 0, 1, 1, 0, 1]=>2.3655e-09, [0, 0, 1, 1, 0, 0]=>2.3631345e-06, [0, 0, 1, 0, 1, 1]=>0.0007025535, [0, 0, 1, 0, 1, 0]=>0.0063229815, [0, 0, 1, 0, 0, 1]=>2.3631345e-06, [0, 0, 1, 0, 0, 0]=>0.0023607713655, [0, 0, 0, 1, 1, 1]=>0.0007025535, [0, 0, 0, 1, 1, 0]=>0.0063229815, [0, 0, 0, 1, 0, 1]=>2.3418450000000001e-07, [0, 0, 0, 1, 0, 0]=>0.0002339503155, [0, 0, 0, 0, 1, 1]=>0.0695527965, [0, 0, 0, 0, 1, 0]=>0.6259751684999999, [0, 0, 0, 0, 0, 1]=>0.00023395031549999998, [0, 0, 0, 0, 0, 0]=>0.23371636518449998}>
		Inference Step 3 (Sumout)
Product after sumout Trav: #<Factor:0x007f837c906670 @names=["Fraud", "FP", "IP", "OC", "CRP"], @table={[1, 1, 1, 1, 1]=>1.2450000000000002e-06, [1, 1, 1, 1, 0]=>1.1205e-05, [1, 1, 1, 0, 1]=>2.2825e-09, [1, 1, 1, 0, 0]=>2.2802175e-06, [1, 1, 0, 1, 1]=>6.1005e-05, [1, 1, 0, 1, 0]=>0.0005490450000000001, [1, 1, 0, 0, 1]=>2.0521750000000002e-07, [1, 1, 0, 0, 0]=>0.00020501228250000003, [1, 0, 1, 1, 1]=>5.205e-06, [1, 0, 1, 1, 0]=>4.6845e-05, [1, 0, 1, 0, 1]=>9.5425e-09, [1, 0, 1, 0, 0]=>9.532957499999999e-06, [1, 0, 0, 1, 1]=>0.000255045, [1, 0, 0, 1, 0]=>0.002295405, [1, 0, 0, 0, 1]=>8.579575e-07, [1, 0, 0, 0, 0]=>0.0008570995425000001, [0, 1, 1, 1, 1]=>4.050900000000001e-05, [0, 1, 1, 1, 0]=>0.000364581, [0, 1, 1, 0, 1]=>1.3503000000000002e-08, [0, 1, 1, 0, 0]=>1.3489497000000002e-05, [0, 1, 0, 1, 1]=>0.004010391, [0, 1, 0, 1, 0]=>0.036093519000000004, [0, 1, 0, 0, 1]=>1.3489497000000004e-05, [0, 1, 0, 0, 0]=>0.013476007503000001, [0, 0, 1, 1, 1]=>0.000706266, [0, 0, 1, 1, 0]=>0.006356394, [0, 0, 1, 0, 1]=>2.35422e-07, [0, 0, 1, 0, 0]=>0.00023518657800000002, [0, 0, 0, 1, 1]=>0.069920334, [0, 0, 0, 1, 0]=>0.6292830059999999, [0, 0, 0, 0, 1]=>0.000235186578, [0, 0, 0, 0, 0]=>0.23495139142199997}>
Product after sumout FP: #<Factor:0x007f837c915b70 @names=["Fraud", "IP", "OC", "CRP"], @table={[1, 1, 1, 1]=>6.45e-06, [1, 1, 1, 0]=>5.805e-05, [1, 1, 0, 1]=>1.1824999999999998e-08, [1, 1, 0, 0]=>1.1813174999999999e-05, [1, 0, 1, 1]=>0.00031605, [1, 0, 1, 0]=>0.00284445, [1, 0, 0, 1]=>1.063175e-06, [1, 0, 0, 0]=>0.001062111825, [0, 1, 1, 1]=>0.000746775, [0, 1, 1, 0]=>0.006720975, [0, 1, 0, 1]=>2.48925e-07, [0, 1, 0, 0]=>0.000248676075, [0, 0, 1, 1]=>0.073930725, [0, 0, 1, 0]=>0.6653765249999999, [0, 0, 0, 1]=>0.000248676075, [0, 0, 0, 0]=>0.248427398925}>
Product after sumout IP: #<Factor:0x007f837c91d2f8 @names=["Fraud", "OC", "CRP"], @table={[1, 1, 1]=>0.00032250000000000003, [1, 1, 0]=>0.0029025, [1, 0, 1]=>1.075e-06, [1, 0, 0]=>0.001073925, [0, 1, 1]=>0.07467750000000001, [0, 1, 0]=>0.6720974999999999, [0, 0, 1]=>0.000248925, [0, 0, 0]=>0.248676075}>
Product after sumout OC: #<Factor:0x007f837c926e98 @names=["Fraud", "CRP"], @table={[1, 1]=>0.00032357500000000005, [1, 0]=>0.0039764250000000004, [0, 1]=>0.074926425, [0, 0]=>0.9207735749999999}>
Product after sumout CRP: #<Factor:0x007f837c925b38 @names=["Fraud"], @table={[1]=>0.004300000000000001, [0]=>0.9956999999999999}>
		Inference 4 (Normalized)
#<Factor:0x007f837c925610 @names=["Fraud"], @table={[1]=>0.004300000000000002, [0]=>0.9957}>
Pr(Fraud) = {[1]=>0.004300000000000002, [0]=>0.9957}


====== Question 2b posterior: Nerd makes foreign purchase offline
		Inference Step 0 (Unmodified Factors)
#<Factor:0x007f837c924c10 @names=["Fraud", "Trav"], @table={[1, 1]=>0.01, [1, 0]=>0.004, [0, 1]=>0.99, [0, 0]=>0.996}>
#<Factor:0x007f837c9247d8 @names=["Trav"], @table={[1]=>0.05, [0]=>0.95}>
#<Factor:0x007f837c9245f8 @names=["FP", "Fraud", "Trav"], @table={[1, 1, 1]=>0.9, [1, 1, 0]=>0.1, [1, 0, 1]=>0.9, [1, 0, 0]=>0.01, [0, 1, 1]=>0.09999999999999998, [0, 1, 0]=>0.9, [0, 0, 1]=>0.09999999999999998, [0, 0, 0]=>0.99}>
#<Factor:0x007f837c92fde0 @names=["IP", "OC", "Fraud"], @table={[1, 1, 1]=>0.02, [1, 1, 0]=>0.01, [1, 0, 1]=>0.011, [1, 0, 0]=>0.001, [0, 1, 1]=>0.98, [0, 1, 0]=>0.99, [0, 0, 1]=>0.989, [0, 0, 0]=>0.999}>
#<Factor:0x007f837c92f610 @names=["CRP", "OC"], @table={[1, 1]=>0.1, [1, 0]=>0.001, [0, 1]=>0.9, [0, 0]=>0.999}>
#<Factor:0x007f837c92f1d8 @names=["OC"], @table={[1]=>0.75, [0]=>0.25}>
		Inference Step 1 (Factors After Restriction)
#<Factor:0x007f837c924c10 @names=["Fraud", "Trav"], @table={[1, 1]=>0.01, [1, 0]=>0.004, [0, 1]=>0.99, [0, 0]=>0.996}>
#<Factor:0x007f837c9247d8 @names=["Trav"], @table={[1]=>0.05, [0]=>0.95}>
#<Factor:0x007f837c92d450 @names=["Fraud", "Trav"], @table={[1, 1]=>0.9, [1, 0]=>0.1, [0, 1]=>0.9, [0, 0]=>0.01}>
#<Factor:0x007f837c92caf0 @names=["OC", "Fraud"], @table={[1, 1]=>0.98, [1, 0]=>0.99, [0, 1]=>0.989, [0, 0]=>0.999}>
#<Factor:0x007f837c92c118 @names=["OC"], @table={[1]=>0.1, [0]=>0.001}>
#<Factor:0x007f837c92f1d8 @names=["OC"], @table={[1]=>0.75, [0]=>0.25}>
		Inference Step 2 (Multiply)
Product Factor #<Factor:0x007f837c9369d8 @names=["Fraud", "Trav"], @table={[1, 1]=>0.01, [1, 0]=>0.004, [0, 1]=>0.99, [0, 0]=>0.996}>
Product Factor #<Factor:0x007f837c935a60 @names=["Fraud", "Trav"], @table={[1, 1]=>0.0005, [1, 0]=>0.0038, [0, 1]=>0.0495, [0, 0]=>0.9461999999999999}>
Product Factor #<Factor:0x007f837c934598 @names=["Fraud", "Trav"], @table={[1, 1]=>0.00045000000000000004, [1, 0]=>0.00038, [0, 1]=>0.044550000000000006, [0, 0]=>0.009462}>
Product Factor #<Factor:0x007f837c93f240 @names=["Fraud", "Trav", "OC"], @table={[1, 1, 1]=>0.00044100000000000004, [1, 1, 0]=>0.00044505000000000006, [1, 0, 1]=>0.0003724, [1, 0, 0]=>0.00037582, [0, 1, 1]=>0.044104500000000005, [0, 1, 0]=>0.04450545000000001, [0, 0, 1]=>0.00936738, [0, 0, 0]=>0.009452538}>
Product Factor #<Factor:0x007f837c93d558 @names=["Fraud", "Trav", "OC"], @table={[1, 1, 1]=>4.410000000000001e-05, [1, 1, 0]=>4.450500000000001e-07, [1, 0, 1]=>3.724e-05, [1, 0, 0]=>3.7582000000000004e-07, [0, 1, 1]=>0.004410450000000001, [0, 1, 0]=>4.450545000000001e-05, [0, 0, 1]=>0.000936738, [0, 0, 0]=>9.452538e-06}>
Product Factor #<Factor:0x007f837c947698 @names=["Fraud", "Trav", "OC"], @table={[1, 1, 1]=>3.3075000000000004e-05, [1, 1, 0]=>1.1126250000000002e-07, [1, 0, 1]=>2.7930000000000002e-05, [1, 0, 0]=>9.395500000000001e-08, [0, 1, 1]=>0.0033078375000000007, [0, 1, 0]=>1.1126362500000003e-05, [0, 0, 1]=>0.0007025535, [0, 0, 0]=>2.3631345e-06}>
		Inference Step 3 (Sumout)
Product after sumout Trav: #<Factor:0x007f837c944f60 @names=["Fraud", "OC"], @table={[1, 1]=>6.1005e-05, [1, 0]=>2.0521750000000002e-07, [0, 1]=>0.004010391, [0, 0]=>1.3489497000000004e-05}>
Product after sumout FP: #<Factor:0x007f837c944718 @names=["Fraud", "OC"], @table={[1, 1]=>6.1005e-05, [1, 0]=>2.0521750000000002e-07, [0, 1]=>0.004010391, [0, 0]=>1.3489497000000004e-05}>
Product after sumout IP: #<Factor:0x007f837c94fed8 @names=["Fraud", "OC"], @table={[1, 1]=>6.1005e-05, [1, 0]=>2.0521750000000002e-07, [0, 1]=>0.004010391, [0, 0]=>1.3489497000000004e-05}>
Product after sumout OC: #<Factor:0x007f837c94e718 @names=["Fraud"], @table={[1]=>6.12102175e-05, [0]=>0.004023880497000001}>
Product after sumout CRP: #<Factor:0x007f837c94e2e0 @names=["Fraud"], @table={[1]=>6.12102175e-05, [0]=>0.004023880497000001}>
		Inference 4 (Normalized)
#<Factor:0x007f837c94dea8 @names=["Fraud"], @table={[1]=>0.014983808629447266, [0]=>0.9850161913705529}>
Pr(Fraud | FP, ~IP, CRP) = {[1]=>0.014983808629447266, [0]=>0.9850161913705529}


====== Question 2c: Jon Snow Co. verfies his client is tripping out
		Inference Step 0 (Unmodified Factors)
#<Factor:0x007f837c94d278 @names=["Fraud", "Trav"], @table={[1, 1]=>0.01, [1, 0]=>0.004, [0, 1]=>0.99, [0, 0]=>0.996}>
#<Factor:0x007f837c94ce40 @names=["Trav"], @table={[1]=>0.05, [0]=>0.95}>
#<Factor:0x007f837c94cc10 @names=["FP", "Fraud", "Trav"], @table={[1, 1, 1]=>0.9, [1, 1, 0]=>0.1, [1, 0, 1]=>0.9, [1, 0, 0]=>0.01, [0, 1, 1]=>0.09999999999999998, [0, 1, 0]=>0.9, [0, 0, 1]=>0.09999999999999998, [0, 0, 0]=>0.99}>
#<Factor:0x007f837c94c418 @names=["IP", "OC", "Fraud"], @table={[1, 1, 1]=>0.02, [1, 1, 0]=>0.01, [1, 0, 1]=>0.011, [1, 0, 0]=>0.001, [0, 1, 1]=>0.98, [0, 1, 0]=>0.99, [0, 0, 1]=>0.989, [0, 0, 0]=>0.999}>
#<Factor:0x007f837c953ad8 @names=["CRP", "OC"], @table={[1, 1]=>0.1, [1, 0]=>0.001, [0, 1]=>0.9, [0, 0]=>0.999}>
#<Factor:0x007f837c9535d8 @names=["OC"], @table={[1]=>0.75, [0]=>0.25}>
		Inference Step 1 (Factors After Restriction)
#<Factor:0x007f837c95bcb0 @names=["Fraud"], @table={[1]=>0.01, [0]=>0.99}>
#<Factor:0x007f837c95b878 @names=[], @table={[]=>0.05}>
#<Factor:0x007f837c95b5a8 @names=["Fraud"], @table={[1]=>0.9, [0]=>0.9}>
#<Factor:0x007f837c950a68 @names=["OC", "Fraud"], @table={[1, 1]=>0.98, [1, 0]=>0.99, [0, 1]=>0.989, [0, 0]=>0.999}>
#<Factor:0x007f837c9501a8 @names=["OC"], @table={[1]=>0.1, [0]=>0.001}>
#<Factor:0x007f837c9535d8 @names=["OC"], @table={[1]=>0.75, [0]=>0.25}>
		Inference Step 2 (Multiply)
Product Factor #<Factor:0x007f837c959fc8 @names=["Fraud"], @table={[1]=>0.01, [0]=>0.99}>
Product Factor #<Factor:0x007f837c959988 @names=["Fraud"], @table={[1]=>0.0005, [0]=>0.0495}>
Product Factor #<Factor:0x007f837c959190 @names=["Fraud"], @table={[1]=>0.00045000000000000004, [0]=>0.044550000000000006}>
Product Factor #<Factor:0x007f837c95fce8 @names=["Fraud", "OC"], @table={[1, 1]=>0.00044100000000000004, [1, 0]=>0.00044505000000000006, [0, 1]=>0.044104500000000005, [0, 0]=>0.04450545000000001}>
Product Factor #<Factor:0x007f837c95ea28 @names=["Fraud", "OC"], @table={[1, 1]=>4.410000000000001e-05, [1, 0]=>4.450500000000001e-07, [0, 1]=>0.004410450000000001, [0, 0]=>4.450545000000001e-05}>
Product Factor #<Factor:0x007f837c95d3a8 @names=["Fraud", "OC"], @table={[1, 1]=>3.3075000000000004e-05, [1, 0]=>1.1126250000000002e-07, [0, 1]=>0.0033078375000000007, [0, 0]=>1.1126362500000003e-05}>
		Inference Step 3 (Sumout)
Product after sumout Trav: #<Factor:0x007f837c95cb38 @names=["Fraud", "OC"], @table={[1, 1]=>3.3075000000000004e-05, [1, 0]=>1.1126250000000002e-07, [0, 1]=>0.0033078375000000007, [0, 0]=>1.1126362500000003e-05}>
Product after sumout FP: #<Factor:0x007f837c95c2c8 @names=["Fraud", "OC"], @table={[1, 1]=>3.3075000000000004e-05, [1, 0]=>1.1126250000000002e-07, [0, 1]=>0.0033078375000000007, [0, 0]=>1.1126362500000003e-05}>
Product after sumout IP: #<Factor:0x007f837c00bdb8 @names=["Fraud", "OC"], @table={[1, 1]=>3.3075000000000004e-05, [1, 0]=>1.1126250000000002e-07, [0, 1]=>0.0033078375000000007, [0, 0]=>1.1126362500000003e-05}>
Product after sumout OC: #<Factor:0x007f837c00aad0 @names=["Fraud"], @table={[1]=>3.3186262500000005e-05, [0]=>0.0033189638625000005}>
Product after sumout CRP: #<Factor:0x007f837c00a6e8 @names=["Fraud"], @table={[1]=>3.3186262500000005e-05, [0]=>0.0033189638625000005}>
		Inference 4 (Normalized)
#<Factor:0x007f837c00a288 @names=["Fraud"], @table={[1]=>0.009899992918724067, [0]=>0.9901000070812759}>
Pr(Fraud | FP, ~IP, CRP, Trav) = {[1]=>0.009899992918724067, [0]=>0.9901000070812759}

Changes in fraud probability (rounded 8 decimals):
before 0.01498381 - after 0.00989999 = 0.00508382
After calling we are 0.508382 % more confident

====== Question 2d: Jon Snow's traitor
		Inference Step 0 (Unmodified Factors)
#<Factor:0x007f837c009158 @names=["Fraud", "Trav"], @table={[1, 1]=>0.01, [1, 0]=>0.004, [0, 1]=>0.99, [0, 0]=>0.996}>
#<Factor:0x007f837c008ca8 @names=["Trav"], @table={[1]=>0.05, [0]=>0.95}>
#<Factor:0x007f837c0088c0 @names=["FP", "Fraud", "Trav"], @table={[1, 1, 1]=>0.9, [1, 1, 0]=>0.1, [1, 0, 1]=>0.9, [1, 0, 0]=>0.01, [0, 1, 1]=>0.09999999999999998, [0, 1, 0]=>0.9, [0, 0, 1]=>0.09999999999999998, [0, 0, 0]=>0.99}>
#<Factor:0x007f837c017cf8 @names=["IP", "OC", "Fraud"], @table={[1, 1, 1]=>0.02, [1, 1, 0]=>0.01, [1, 0, 1]=>0.011, [1, 0, 0]=>0.001, [0, 1, 1]=>0.98, [0, 1, 0]=>0.99, [0, 0, 1]=>0.989, [0, 0, 0]=>0.999}>
#<Factor:0x007f837c017488 @names=["CRP", "OC"], @table={[1, 1]=>0.1, [1, 0]=>0.001, [0, 1]=>0.9, [0, 0]=>0.999}>
#<Factor:0x007f837c017028 @names=["OC"], @table={[1]=>0.75, [0]=>0.25}>
		Inference Step 1 (Factors After Restriction)
#<Factor:0x007f837c009158 @names=["Fraud", "Trav"], @table={[1, 1]=>0.01, [1, 0]=>0.004, [0, 1]=>0.99, [0, 0]=>0.996}>
#<Factor:0x007f837c008ca8 @names=["Trav"], @table={[1]=>0.05, [0]=>0.95}>
#<Factor:0x007f837c0088c0 @names=["FP", "Fraud", "Trav"], @table={[1, 1, 1]=>0.9, [1, 1, 0]=>0.1, [1, 0, 1]=>0.9, [1, 0, 0]=>0.01, [0, 1, 1]=>0.09999999999999998, [0, 1, 0]=>0.9, [0, 0, 1]=>0.09999999999999998, [0, 0, 0]=>0.99}>
#<Factor:0x007f837c015138 @names=["OC", "Fraud"], @table={[1, 1]=>0.02, [1, 0]=>0.01, [0, 1]=>0.011, [0, 0]=>0.001}>
#<Factor:0x007f837c017488 @names=["CRP", "OC"], @table={[1, 1]=>0.1, [1, 0]=>0.001, [0, 1]=>0.9, [0, 0]=>0.999}>
#<Factor:0x007f837c017028 @names=["OC"], @table={[1]=>0.75, [0]=>0.25}>
		Inference Step 2 (Multiply)
Product Factor #<Factor:0x007f837c01ecb0 @names=["Fraud", "Trav"], @table={[1, 1]=>0.01, [1, 0]=>0.004, [0, 1]=>0.99, [0, 0]=>0.996}>
Product Factor #<Factor:0x007f837c01d8d8 @names=["Fraud", "Trav"], @table={[1, 1]=>0.0005, [1, 0]=>0.0038, [0, 1]=>0.0495, [0, 0]=>0.9461999999999999}>
Product Factor #<Factor:0x007f837c027a40 @names=["Fraud", "Trav", "FP"], @table={[1, 1, 1]=>0.00045000000000000004, [1, 1, 0]=>4.999999999999999e-05, [1, 0, 1]=>0.00038, [1, 0, 0]=>0.00342, [0, 1, 1]=>0.044550000000000006, [0, 1, 0]=>0.0049499999999999995, [0, 0, 1]=>0.009462, [0, 0, 0]=>0.936738}>
Product Factor #<Factor:0x007f837c024d90 @names=["Fraud", "Trav", "FP", "OC"], @table={[1, 1, 1, 1]=>9.0e-06, [1, 1, 1, 0]=>4.95e-06, [1, 1, 0, 1]=>9.999999999999997e-07, [1, 1, 0, 0]=>5.499999999999998e-07, [1, 0, 1, 1]=>7.600000000000001e-06, [1, 0, 1, 0]=>4.18e-06, [1, 0, 0, 1]=>6.84e-05, [1, 0, 0, 0]=>3.7619999999999996e-05, [0, 1, 1, 1]=>0.0004455000000000001, [0, 1, 1, 0]=>4.4550000000000005e-05, [0, 1, 0, 1]=>4.95e-05, [0, 1, 0, 0]=>4.95e-06, [0, 0, 1, 1]=>9.462e-05, [0, 0, 1, 0]=>9.462e-06, [0, 0, 0, 1]=>0.00936738, [0, 0, 0, 0]=>0.000936738}>
Product Factor #<Factor:0x007f837c03be28 @names=["Fraud", "Trav", "FP", "OC", "CRP"], @table={[1, 1, 1, 1, 1]=>9.000000000000001e-07, [1, 1, 1, 1, 0]=>8.1e-06, [1, 1, 1, 0, 1]=>4.9500000000000005e-09, [1, 1, 1, 0, 0]=>4.94505e-06, [1, 1, 0, 1, 1]=>9.999999999999998e-08, [1, 1, 0, 1, 0]=>8.999999999999997e-07, [1, 1, 0, 0, 1]=>5.499999999999999e-10, [1, 1, 0, 0, 0]=>5.494499999999998e-07, [1, 0, 1, 1, 1]=>7.600000000000001e-07, [1, 0, 1, 1, 0]=>6.840000000000001e-06, [1, 0, 1, 0, 1]=>4.18e-09, [1, 0, 1, 0, 0]=>4.17582e-06, [1, 0, 0, 1, 1]=>6.84e-06, [1, 0, 0, 1, 0]=>6.156e-05, [1, 0, 0, 0, 1]=>3.7619999999999995e-08, [1, 0, 0, 0, 0]=>3.758237999999999e-05, [0, 1, 1, 1, 1]=>4.455000000000001e-05, [0, 1, 1, 1, 0]=>0.00040095000000000007, [0, 1, 1, 0, 1]=>4.4550000000000005e-08, [0, 1, 1, 0, 0]=>4.4505450000000006e-05, [0, 1, 0, 1, 1]=>4.95e-06, [0, 1, 0, 1, 0]=>4.455e-05, [0, 1, 0, 0, 1]=>4.9500000000000005e-09, [0, 1, 0, 0, 0]=>4.94505e-06, [0, 0, 1, 1, 1]=>9.462e-06, [0, 0, 1, 1, 0]=>8.5158e-05, [0, 0, 1, 0, 1]=>9.462e-09, [0, 0, 1, 0, 0]=>9.452538e-06, [0, 0, 0, 1, 1]=>0.000936738, [0, 0, 0, 1, 0]=>0.008430642, [0, 0, 0, 0, 1]=>9.367380000000001e-07, [0, 0, 0, 0, 0]=>0.000935801262}>
Product Factor #<Factor:0x007f837c041da0 @names=["Fraud", "Trav", "FP", "OC", "CRP"], @table={[1, 1, 1, 1, 1]=>6.750000000000001e-07, [1, 1, 1, 1, 0]=>6.075e-06, [1, 1, 1, 0, 1]=>1.2375000000000001e-09, [1, 1, 1, 0, 0]=>1.2362625e-06, [1, 1, 0, 1, 1]=>7.499999999999998e-08, [1, 1, 0, 1, 0]=>6.749999999999998e-07, [1, 1, 0, 0, 1]=>1.3749999999999996e-10, [1, 1, 0, 0, 0]=>1.3736249999999994e-07, [1, 0, 1, 1, 1]=>5.7e-07, [1, 0, 1, 1, 0]=>5.13e-06, [1, 0, 1, 0, 1]=>1.045e-09, [1, 0, 1, 0, 0]=>1.043955e-06, [1, 0, 0, 1, 1]=>5.13e-06, [1, 0, 0, 1, 0]=>4.617e-05, [1, 0, 0, 0, 1]=>9.404999999999999e-09, [1, 0, 0, 0, 0]=>9.395594999999998e-06, [0, 1, 1, 1, 1]=>3.3412500000000006e-05, [0, 1, 1, 1, 0]=>0.0003007125, [0, 1, 1, 0, 1]=>1.1137500000000001e-08, [0, 1, 1, 0, 0]=>1.1126362500000002e-05, [0, 1, 0, 1, 1]=>3.7125e-06, [0, 1, 0, 1, 0]=>3.34125e-05, [0, 1, 0, 0, 1]=>1.2375000000000001e-09, [0, 1, 0, 0, 0]=>1.2362625e-06, [0, 0, 1, 1, 1]=>7.096500000000001e-06, [0, 0, 1, 1, 0]=>6.38685e-05, [0, 0, 1, 0, 1]=>2.3655e-09, [0, 0, 1, 0, 0]=>2.3631345e-06, [0, 0, 0, 1, 1]=>0.0007025535, [0, 0, 0, 1, 0]=>0.0063229815, [0, 0, 0, 0, 1]=>2.3418450000000001e-07, [0, 0, 0, 0, 0]=>0.0002339503155}>
		Inference Step 3 (Sumout)
Product after sumout Trav: #<Factor:0x007f837c050378 @names=["Fraud", "FP", "OC", "CRP"], @table={[1, 1, 1, 1]=>1.2450000000000002e-06, [1, 1, 1, 0]=>1.1205e-05, [1, 1, 0, 1]=>2.2825e-09, [1, 1, 0, 0]=>2.2802175e-06, [1, 0, 1, 1]=>5.205e-06, [1, 0, 1, 0]=>4.6845e-05, [1, 0, 0, 1]=>9.5425e-09, [1, 0, 0, 0]=>9.532957499999999e-06, [0, 1, 1, 1]=>4.050900000000001e-05, [0, 1, 1, 0]=>0.000364581, [0, 1, 0, 1]=>1.3503000000000002e-08, [0, 1, 0, 0]=>1.3489497000000002e-05, [0, 0, 1, 1]=>0.000706266, [0, 0, 1, 0]=>0.006356394, [0, 0, 0, 1]=>2.35422e-07, [0, 0, 0, 0]=>0.00023518657800000002}>
Product after sumout FP: #<Factor:0x007f837c067d70 @names=["Fraud", "OC", "CRP"], @table={[1, 1, 1]=>6.45e-06, [1, 1, 0]=>5.805e-05, [1, 0, 1]=>1.1824999999999998e-08, [1, 0, 0]=>1.1813174999999999e-05, [0, 1, 1]=>0.000746775, [0, 1, 0]=>0.006720975, [0, 0, 1]=>2.48925e-07, [0, 0, 0]=>0.000248676075}>
Product after sumout IP: #<Factor:0x007f837c066dd0 @names=["Fraud", "OC", "CRP"], @table={[1, 1, 1]=>6.45e-06, [1, 1, 0]=>5.805e-05, [1, 0, 1]=>1.1824999999999998e-08, [1, 0, 0]=>1.1813174999999999e-05, [0, 1, 1]=>0.000746775, [0, 1, 0]=>0.006720975, [0, 0, 1]=>2.48925e-07, [0, 0, 0]=>0.000248676075}>
Product after sumout OC: #<Factor:0x007f837c064b98 @names=["Fraud", "CRP"], @table={[1, 1]=>6.461825e-06, [1, 0]=>6.9863175e-05, [0, 1]=>0.000747023925, [0, 0]=>0.006969651075}>
Product after sumout CRP: #<Factor:0x007f837c05f670 @names=["Fraud"], @table={[1]=>7.6325e-05, [0]=>0.007716674999999999}>
		Inference 4 (Normalized)
#<Factor:0x007f837c05f260 @names=["Fraud"], @table={[1]=>0.009794045938662902, [0]=>0.990205954061337}>
Before infiltration:
Pr(Fraud | IP) = {[1]=>0.009794045938662902, [0]=>0.990205954061337}

		Inference Step 0 (Unmodified Factors)
#<Factor:0x007f837c05e798 @names=["Fraud", "Trav"], @table={[1, 1]=>0.01, [1, 0]=>0.004, [0, 1]=>0.99, [0, 0]=>0.996}>
#<Factor:0x007f837c05e3d8 @names=["Trav"], @table={[1]=>0.05, [0]=>0.95}>
#<Factor:0x007f837c05e220 @names=["FP", "Fraud", "Trav"], @table={[1, 1, 1]=>0.9, [1, 1, 0]=>0.1, [1, 0, 1]=>0.9, [1, 0, 0]=>0.01, [0, 1, 1]=>0.09999999999999998, [0, 1, 0]=>0.9, [0, 0, 1]=>0.09999999999999998, [0, 0, 0]=>0.99}>
#<Factor:0x007f837c05daa0 @names=["IP", "OC", "Fraud"], @table={[1, 1, 1]=>0.02, [1, 1, 0]=>0.01, [1, 0, 1]=>0.011, [1, 0, 0]=>0.001, [0, 1, 1]=>0.98, [0, 1, 0]=>0.99, [0, 0, 1]=>0.989, [0, 0, 0]=>0.999}>
#<Factor:0x007f837c05d320 @names=["CRP", "OC"], @table={[1, 1]=>0.1, [1, 0]=>0.001, [0, 1]=>0.9, [0, 0]=>0.999}>
#<Factor:0x007f837c05cf60 @names=["OC"], @table={[1]=>0.75, [0]=>0.25}>
		Inference Step 1 (Factors After Restriction)
#<Factor:0x007f837c06e3f0 @names=["Fraud"], @table={[1]=>0.004, [0]=>0.996}>
#<Factor:0x007f837c06df68 @names=[], @table={[]=>0.95}>
#<Factor:0x007f837c06c6e0 @names=["Fraud"], @table={[1]=>0.9, [0]=>0.99}>
#<Factor:0x007f837c06d450 @names=["OC", "Fraud"], @table={[1, 1]=>0.02, [1, 0]=>0.01, [0, 1]=>0.011, [0, 0]=>0.001}>
#<Factor:0x007f837c06cbb8 @names=["OC"], @table={[1]=>0.1, [0]=>0.001}>
#<Factor:0x007f837c05cf60 @names=["OC"], @table={[1]=>0.75, [0]=>0.25}>
		Inference Step 2 (Multiply)
Product Factor #<Factor:0x007f837c076708 @names=["Fraud"], @table={[1]=>0.004, [0]=>0.996}>
Product Factor #<Factor:0x007f837c0755d8 @names=["Fraud"], @table={[1]=>0.0038, [0]=>0.9461999999999999}>
Product Factor #<Factor:0x007f837c0745e8 @names=["Fraud"], @table={[1]=>0.00342, [0]=>0.936738}>
Product Factor #<Factor:0x007f837c07efc0 @names=["Fraud", "OC"], @table={[1, 1]=>6.84e-05, [1, 0]=>3.7619999999999996e-05, [0, 1]=>0.00936738, [0, 0]=>0.000936738}>
Product Factor #<Factor:0x007f837c07d0a8 @names=["Fraud", "OC"], @table={[1, 1]=>6.84e-06, [1, 0]=>3.7619999999999995e-08, [0, 1]=>0.000936738, [0, 0]=>9.367380000000001e-07}>
Product Factor #<Factor:0x007f837c086b58 @names=["Fraud", "OC"], @table={[1, 1]=>5.13e-06, [1, 0]=>9.404999999999999e-09, [0, 1]=>0.0007025535, [0, 0]=>2.3418450000000001e-07}>
		Inference Step 3 (Sumout)
Product after sumout Trav: #<Factor:0x007f837c084ee8 @names=["Fraud", "OC"], @table={[1, 1]=>5.13e-06, [1, 0]=>9.404999999999999e-09, [0, 1]=>0.0007025535, [0, 0]=>2.3418450000000001e-07}>
Product after sumout FP: #<Factor:0x007f837c08d688 @names=["Fraud", "OC"], @table={[1, 1]=>5.13e-06, [1, 0]=>9.404999999999999e-09, [0, 1]=>0.0007025535, [0, 0]=>2.3418450000000001e-07}>
Product after sumout IP: #<Factor:0x007f837c0a2790 @names=["Fraud", "OC"], @table={[1, 1]=>5.13e-06, [1, 0]=>9.404999999999999e-09, [0, 1]=>0.0007025535, [0, 0]=>2.3418450000000001e-07}>
Product after sumout OC: #<Factor:0x007f837c09ae78 @names=["Fraud"], @table={[1]=>5.139405e-06, [0]=>0.0007027876845}>
Product after sumout CRP: #<Factor:0x007f837c098df8 @names=["Fraud"], @table={[1]=>5.139405e-06, [0]=>0.0007027876845}>
		Inference 4 (Normalized)
#<Factor:0x007f837c0ab688 @names=["Fraud"], @table={[1]=>0.0072597942305469565, [0]=>0.992740205769453}>
After infiltration:
Pr(Fraud | ~Trav, IP, CRP, ~FP) = {[1]=>0.0072597942305469565, [0]=>0.992740205769453}

Changes in fraud probability (rounded 8 decimals):
before 0.00725979 - after 0.00979405 = -0.00253425
After preparing to steal, chance of getting caught -0.253425%
		Inference Step 0 (Unmodified Factors)
#<Factor:0x007f837c0b9120 @names=["Fraud", "Trav"], @table={[1, 1]=>0.01, [1, 0]=>0.004, [0, 1]=>0.99, [0, 0]=>0.996}>
#<Factor:0x007f837c0c1960 @names=["Trav"], @table={[1]=>0.05, [0]=>0.95}>
#<Factor:0x007f837c0c0bc8 @names=["FP", "Fraud", "Trav"], @table={[1, 1, 1]=>0.9, [1, 1, 0]=>0.1, [1, 0, 1]=>0.9, [1, 0, 0]=>0.01, [0, 1, 1]=>0.09999999999999998, [0, 1, 0]=>0.9, [0, 0, 1]=>0.09999999999999998, [0, 0, 0]=>0.99}>
#<Factor:0x007f837c0d10b8 @names=["IP", "OC", "Fraud"], @table={[1, 1, 1]=>0.02, [1, 1, 0]=>0.01, [1, 0, 1]=>0.011, [1, 0, 0]=>0.001, [0, 1, 1]=>0.98, [0, 1, 0]=>0.99, [0, 0, 1]=>0.989, [0, 0, 0]=>0.999}>
#<Factor:0x007f837c0e3bf0 @names=["CRP", "OC"], @table={[1, 1]=>0.1, [1, 0]=>0.001, [0, 1]=>0.9, [0, 0]=>0.999}>
#<Factor:0x007f837c0e3830 @names=["OC"], @table={[1]=>0.75, [0]=>0.25}>
		Inference Step 1 (Factors After Restriction)
#<Factor:0x007f837c0b9120 @names=["Fraud", "Trav"], @table={[1, 1]=>0.01, [1, 0]=>0.004, [0, 1]=>0.99, [0, 0]=>0.996}>
#<Factor:0x007f837c0c1960 @names=["Trav"], @table={[1]=>0.05, [0]=>0.95}>
#<Factor:0x007f837c0e1b48 @names=["Fraud", "Trav"], @table={[1, 1]=>0.9, [1, 0]=>0.1, [0, 1]=>0.9, [0, 0]=>0.01}>
#<Factor:0x007f837c0e12b0 @names=["OC", "Fraud"], @table={[1, 1]=>0.98, [1, 0]=>0.99, [0, 1]=>0.989, [0, 0]=>0.999}>
#<Factor:0x007f837c0e0a18 @names=["OC"], @table={[1]=>0.1, [0]=>0.001}>
#<Factor:0x007f837c0e3830 @names=["OC"], @table={[1]=>0.75, [0]=>0.25}>
		Inference Step 2 (Multiply)
Product Factor #<Factor:0x007f837c0db3d8 @names=["Fraud", "Trav"], @table={[1, 1]=>0.01, [1, 0]=>0.004, [0, 1]=>0.99, [0, 0]=>0.996}>
Product Factor #<Factor:0x007f837c0da500 @names=["Fraud", "Trav"], @table={[1, 1]=>0.0005, [1, 0]=>0.0038, [0, 1]=>0.0495, [0, 0]=>0.9461999999999999}>
Product Factor #<Factor:0x007f837c0d90d8 @names=["Fraud", "Trav"], @table={[1, 1]=>0.00045000000000000004, [1, 0]=>0.00038, [0, 1]=>0.044550000000000006, [0, 0]=>0.009462}>
Product Factor #<Factor:0x007f837c0d3db8 @names=["Fraud", "Trav", "OC"], @table={[1, 1, 1]=>0.00044100000000000004, [1, 1, 0]=>0.00044505000000000006, [1, 0, 1]=>0.0003724, [1, 0, 0]=>0.00037582, [0, 1, 1]=>0.044104500000000005, [0, 1, 0]=>0.04450545000000001, [0, 0, 1]=>0.00936738, [0, 0, 0]=>0.009452538}>
Product Factor #<Factor:0x007f837c0d21c0 @names=["Fraud", "Trav", "OC"], @table={[1, 1, 1]=>4.410000000000001e-05, [1, 1, 0]=>4.450500000000001e-07, [1, 0, 1]=>3.724e-05, [1, 0, 0]=>3.7582000000000004e-07, [0, 1, 1]=>0.004410450000000001, [0, 1, 0]=>4.450545000000001e-05, [0, 0, 1]=>0.000936738, [0, 0, 0]=>9.452538e-06}>
Product Factor #<Factor:0x007f837c0d0488 @names=["Fraud", "Trav", "OC"], @table={[1, 1, 1]=>3.3075000000000004e-05, [1, 1, 0]=>1.1126250000000002e-07, [1, 0, 1]=>2.7930000000000002e-05, [1, 0, 0]=>9.395500000000001e-08, [0, 1, 1]=>0.0033078375000000007, [0, 1, 0]=>1.1126362500000003e-05, [0, 0, 1]=>0.0007025535, [0, 0, 0]=>2.3631345e-06}>
		Inference Step 3 (Sumout)
Product after sumout Trav: #<Factor:0x007f837c0ca0d8 @names=["Fraud", "OC"], @table={[1, 1]=>6.1005e-05, [1, 0]=>2.0521750000000002e-07, [0, 1]=>0.004010391, [0, 0]=>1.3489497000000004e-05}>
Product after sumout FP: #<Factor:0x007f837c0c98e0 @names=["Fraud", "OC"], @table={[1, 1]=>6.1005e-05, [1, 0]=>2.0521750000000002e-07, [0, 1]=>0.004010391, [0, 0]=>1.3489497000000004e-05}>
Product after sumout IP: #<Factor:0x007f837c0c9110 @names=["Fraud", "OC"], @table={[1, 1]=>6.1005e-05, [1, 0]=>2.0521750000000002e-07, [0, 1]=>0.004010391, [0, 0]=>1.3489497000000004e-05}>
Product after sumout OC: #<Factor:0x007f837c0c3dc8 @names=["Fraud"], @table={[1]=>6.12102175e-05, [0]=>0.004023880497000001}>
Product after sumout CRP: #<Factor:0x007f837c0c39e0 @names=["Fraud"], @table={[1]=>6.12102175e-05, [0]=>0.004023880497000001}>
		Inference 4 (Normalized)
#<Factor:0x007f837c0c35d0 @names=["Fraud"], @table={[1]=>0.014983808629447266, [0]=>0.9850161913705529}>

====== Question 3b: Block nerd's $1000 foreign purchase made offline?
Pr(Block | FP, ~IP, CRP) = {[1]=>-9.850161913705529, [0]=>-10.0587276725945}

		Inference Step 0 (Unmodified Factors)
#<Factor:0x007f837c0c11e0 @names=["Fraud", "Trav"], @table={[1, 1]=>0.01, [1, 0]=>0.004, [0, 1]=>0.99, [0, 0]=>0.996}>
#<Factor:0x007f837c0c0dd0 @names=["Trav"], @table={[1]=>0.05, [0]=>0.95}>
#<Factor:0x007f837c0c0c18 @names=["FP", "Fraud", "Trav"], @table={[1, 1, 1]=>0.9, [1, 1, 0]=>0.1, [1, 0, 1]=>0.9, [1, 0, 0]=>0.01, [0, 1, 1]=>0.09999999999999998, [0, 1, 0]=>0.9, [0, 0, 1]=>0.09999999999999998, [0, 0, 0]=>0.99}>
#<Factor:0x007f837c0c0420 @names=["IP", "OC", "Fraud"], @table={[1, 1, 1]=>0.02, [1, 1, 0]=>0.01, [1, 0, 1]=>0.011, [1, 0, 0]=>0.001, [0, 1, 1]=>0.98, [0, 1, 0]=>0.99, [0, 0, 1]=>0.989, [0, 0, 0]=>0.999}>
#<Factor:0x007f837c0bbc40 @names=["CRP", "OC"], @table={[1, 1]=>0.1, [1, 0]=>0.001, [0, 1]=>0.9, [0, 0]=>0.999}>
#<Factor:0x007f837c0bb7e0 @names=["OC"], @table={[1]=>0.75, [0]=>0.25}>
		Inference Step 1 (Factors After Restriction)
#<Factor:0x007f837c0b8298 @names=["Fraud"], @table={[1]=>0.01, [0]=>0.99}>
#<Factor:0x007f837c0b3d88 @names=[], @table={[]=>0.05}>
#<Factor:0x007f837c0b3b80 @names=["Fraud"], @table={[1]=>0.9, [0]=>0.9}>
#<Factor:0x007f837c0b90f8 @names=["OC", "Fraud"], @table={[1, 1]=>0.98, [1, 0]=>0.99, [0, 1]=>0.989, [0, 0]=>0.999}>
#<Factor:0x007f837c0b8798 @names=["OC"], @table={[1]=>0.1, [0]=>0.001}>
#<Factor:0x007f837c0bb7e0 @names=["OC"], @table={[1]=>0.75, [0]=>0.25}>
		Inference Step 2 (Multiply)
Product Factor #<Factor:0x007f837c0b2aa0 @names=["Fraud"], @table={[1]=>0.01, [0]=>0.99}>
Product Factor #<Factor:0x007f837c0b2438 @names=["Fraud"], @table={[1]=>0.0005, [0]=>0.0495}>
Product Factor #<Factor:0x007f837c0b1c68 @names=["Fraud"], @table={[1]=>0.00045000000000000004, [0]=>0.044550000000000006}>
Product Factor #<Factor:0x007f837c0b1218 @names=["Fraud", "OC"], @table={[1, 1]=>0.00044100000000000004, [1, 0]=>0.00044505000000000006, [0, 1]=>0.044104500000000005, [0, 0]=>0.04450545000000001}>
Product Factor #<Factor:0x007f837c0b0368 @names=["Fraud", "OC"], @table={[1, 1]=>4.410000000000001e-05, [1, 0]=>4.450500000000001e-07, [0, 1]=>0.004410450000000001, [0, 0]=>4.450545000000001e-05}>
Product Factor #<Factor:0x007f837c0ab458 @names=["Fraud", "OC"], @table={[1, 1]=>3.3075000000000004e-05, [1, 0]=>1.1126250000000002e-07, [0, 1]=>0.0033078375000000007, [0, 0]=>1.1126362500000003e-05}>
		Inference Step 3 (Sumout)
Product after sumout Trav: #<Factor:0x007f837c0aac38 @names=["Fraud", "OC"], @table={[1, 1]=>3.3075000000000004e-05, [1, 0]=>1.1126250000000002e-07, [0, 1]=>0.0033078375000000007, [0, 0]=>1.1126362500000003e-05}>
Product after sumout FP: #<Factor:0x007f837c0aa3f0 @names=["Fraud", "OC"], @table={[1, 1]=>3.3075000000000004e-05, [1, 0]=>1.1126250000000002e-07, [0, 1]=>0.0033078375000000007, [0, 0]=>1.1126362500000003e-05}>
Product after sumout IP: #<Factor:0x007f837c0a9c20 @names=["Fraud", "OC"], @table={[1, 1]=>3.3075000000000004e-05, [1, 0]=>1.1126250000000002e-07, [0, 1]=>0.0033078375000000007, [0, 0]=>1.1126362500000003e-05}>
Product after sumout OC: #<Factor:0x007f837c0a89b0 @names=["Fraud"], @table={[1]=>3.3186262500000005e-05, [0]=>0.0033189638625000005}>
Product after sumout CRP: #<Factor:0x007f837c0a85f0 @names=["Fraud"], @table={[1]=>3.3186262500000005e-05, [0]=>0.0033189638625000005}>
		Inference 4 (Normalized)
#<Factor:0x007f837c0a81b8 @names=["Fraud"], @table={[1]=>0.009899992918724067, [0]=>0.9901000070812759}>

====== Question 3c: Block same transaction knowing he's travelling?
Pr(Block | FP, ~IP, CRP, Trav) = {[1]=>-9.901000070812758, [0]=>-4.949492883317688}

